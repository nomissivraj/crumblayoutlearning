
@{
    ViewBag.Title = "Index";
}
<img src="~/Content/img/baby-yoda-craze.jpg" width="800" style="max-width:100%" />
<h2>Index</h2>
Index @DateTime.Now

@{
    var order = "";

}
<div class="row">
    <div class="col-3">
        @Ajax.ActionLink("Name Sort", "ProjectCards", "AllProjects", new { sortOrder = "Name" }, new AjaxOptions
            {

                HttpMethod = "GET",
                UpdateTargetId = "test",
                InsertionMode = InsertionMode.Replace

            })

    </div>
    <div class="col-3">
        @Ajax.ActionLink("ID Sort", "ProjectCards", "AllProjects", new { sortOrder = "Id" }, new AjaxOptions
            {

                HttpMethod = "GET",
                UpdateTargetId = "test",
                InsertionMode = InsertionMode.Replace

            })

    </div>
    <div class="col-3">
        @Ajax.ActionLink("Status", "ProjectCards", "AllProjects", new { sortOrder = "Status" }, new AjaxOptions
            {

                HttpMethod = "GET",
                UpdateTargetId = "test",
                InsertionMode = InsertionMode.Replace

            })

    </div>
    <div class="col-3">
        <label for="search">Search</label>
        <input id="search" type="text" />
    </div>
</div>


<div id="test">

    @{
        Html.RenderAction("ProjectCards", "AllProjects", new { sortOrder = order });
    }

</div>
@section scripts {
    <script>
        $('#search').on('input', function () {
            console.log('input');
            $.ajax({
                url: "/AllProjects/ProjectCards?sortOrder=Name&searchString=" + $(this).val(),
                success: function (result) {
                    console.log("Success");
                    $('#test').html(result);
                },
                failure: function () {
                    console.log("failed");
                }
            });
        });

    </script>
}